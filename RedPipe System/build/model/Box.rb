#=======================================================#
class Box
   
    #=======================================================#
    def initialize(action, *actionParameters)
        @action = action
        @actionParameters = actionParameters
        @isEmpty = true     
        @next = nil
    end
    #=======================================================#

    #=======================================================#
    def setNext(nextBox)
        @next = nextBox if @isEmpty
        @isEmpty = false     
    end
    #=======================================================#

    #=======================================================#
    def getNext
        return @next.run
    end
    #=======================================================#

    #=======================================================#
    def run
        @action.make @actionParameters
        $buffer.push @action.get
    end
    #=======================================================#
    
end
#=======================================================#